---
id: use-send-raw-transactions
sidebar_label: useSendRawTransactions
slug: /react/transactions/use-send-raw-transactions
title: useSendRawTransactions
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<!-- components -->
import SectionBreak from '@site/src/components/SectionBreak';

# useSendRawTransactionsMessage

> Hook to send a list of raw transactions, and their signatures, to the specified chains.

:::note

Authentication is **REQUIRED**.

:::

<SectionBreak />

## Usage

<Tabs
  defaultValue="send-raw-transctions"
  values={[
    { label: 'SendRawTransactions.tsx', value: 'send-raw-transctions' },
    { label: 'App.tsx', value: 'app' },
    { label: 'AuthScript.tsx', value: 'auth' },
    { label: 'config.ts', value: 'config' },
  ]}>
  <TabItem value="send-raw-transctions">

    ```typescript
    import { useAccounts, useSendRawTransactions } from '@kibisis/katavault-react';
    import { useCallback } from 'react';

    function SendRawTransactions() {
      const accounts = useAccounts();
      const sendRawTransactions = useSendRawTransactions();
      const handleOnSignRawTransactionsClick = useCallback((key: string) => () => {
        sendRawTransactions([
          {
            chainID: 'avm:r20fSQI8gWe_kFZziNonSPCXLwcQmH_n',
            signature: [45, 12, 65, ...], // signature acquired from signing
            transaction: [36, 9, 22, ...], // the raw transaction data
          }
        ], {
          onError: (error) => {
            console.error(error);
          },
          onSuccess: ([result]) => {
            if (result.error || !result.success) {
              console.error(result.error ?? 'failed to send tarnsaction');

              return;
            }

            console.log(`transaction ${result.transactionID} submitted successfully`);
          },
        });
      }, [sendRawTransactions]);

      return (
        <div>
          {accounts.map(({ key, name }) => (
            <div>
              <p>Key: {key}</p>
              <p>Name: {name ?? '-'}</p>
              <button onClick={handleOnSendRawTransactionsClick(key)}>Sign</button>
            </div>
          ))}
        </div>
      );
    }
    ```

  </TabItem>
  <TabItem value="app">

    ```typescript
    import { KatavaultProvider } from '@kibisis/katavault-react';
    import { AuthScript } from './AuthScript';
    import { SendRawTransactions } from './SendRawTransactions';
    import config from './config';

    function App() {
      return (
        <KatavaultProvider config={config}>
          <AuthScript />
          <SendRawTransactions />
        </KatavaultProvider>
      );
    }
    ```

  </TabItem>
  <TabItem value="auth">

    ```typescript
    import { useAuthenticate } from '@kibisis/katavault-react';
    import { useEffect } from 'react';

    export function AuthScript() {
      const {
        authenticate,
        isAuthenticated,
      } = useAuthenticate();

      useEffect(() => {
        authenticate({
          onError: (error) => console.error(error),
          onSuccess: () => console.log('authenticated successfully!'), // for successful authentication, you can listen to this call back
        });
      }, []);
      useEffect(() => {
        console.log('is authenticated', isAuthenticated); // ... and/or check this variable
      }, [isAuthenticated]);

      return null;
    }
    ```

  </TabItem>
  <TabItem value="config">

    ```typescript
    import { Voi } from '@kibisis/chains';
    import { CreateKatavaultParameters } from '@kibisis/katavault-core';

    const config: CreateKatavaultParameters = {
      chains: [Voi],
      client: {
        name: 'Awesome App!!',
      },
    };

    export default config;
    ```

  </TabItem>
</Tabs>

<SectionBreak />

## Returns

`(params: SendRawTransactionParameters[], options?: { onError, onSuccess }) => void`

The function can be called with callbacks that are invoked on error/success.

#### options.onError

Type: `(error: BaseError, params: SendRawTransactionParameters[]) => void | Promise<void>`

This will be invoked if there was an error.

#### options.onSuccess

Type: `(result: SendRawTransactionResult[], params: SendRawTransactionParameters[]) => void | Promise<void>`

This will be invoked with an array of results that will contain whether the transaction submission was successful, the transaction ID and an error if the transaction submission was unsuccessful.

Each element's index in the result list corresponds to the supplied parameter list indices.

## See also

* [sendRawTransactions](02-core/03-api/04-transactions/02-send-raw-transactions.mdx)
